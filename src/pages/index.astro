---
// src/pages/index.astro
import Layout from "../layouts/Layout.astro";
import { getHomePage } from "../lib/wp-graphql";

// Componentes de las secciones
import Hero from "../components/sections/Hero.astro";
import Manifiesto from "../components/sections/Manifiesto.astro";
import QueHago from "../components/sections/QueHago.astro";
import Galeria from "../components/sections/Galeria.astro";
import Cierre from "../components/sections/Cierre.astro";

// Obtenemos todos los datos de la home
const {
  featuredImage,
  contenidoDeLaHome: {
    hero,
    manifiesto,
    queHago,
    galeria,
    cierre,
    imagenDePortada,
  },
} = await getHomePage();
---

<Layout
  title="Triz Jordan | IlustraciÃ³n y Arte Digital"
  description={hero.texto}
>
  <Hero
    titulo={hero.titulo}
    subtitulo={hero.subtitulo}
    textoIntro={hero.texto}
    cta={hero.callToAction}
    imagenDePortada={imagenDePortada}
    featuredImage={featuredImage}
  />

  <Manifiesto titulo={manifiesto.titulo} texto={manifiesto.texto} />

  <QueHago
    titulo={queHago.titulo}
    introduccion={queHago.introduccion}
    bloques={[queHago.bloque1, queHago.bloque2, queHago.bloque3]}
  />

  <Galeria
    titulo={galeria.titulo}
    texto={galeria.texto}
    cta={galeria.callToAction}
    backgroundImage={galeria.backgroundImage}
  />

  <Cierre
    titulo={cierre.titulo}
    texto={cierre.texto}
    cta={cierre.callToAction}
  />
</Layout>
